{"filter":false,"title":"function.js","tooltip":"/function/js/function.js","undoManager":{"mark":10,"position":10,"stack":[[{"start":{"row":24,"column":0},"end":{"row":38,"column":1},"action":"remove","lines":["// get","function fetch_data()  ","{  ","\t$('div#database-result').html('');","\t    \t","\t$.ajax({","\t\ttype: 'POST',","\t\turl: 'function/getAdmin.php',","\t\tdataType: 'Text',","\t\tsuccess: function(result) ","\t\t{","\t\t\t$('div#database-result').html(result);","\t\t}","\t});","}"],"id":2}],[{"start":{"row":4,"column":0},"end":{"row":4,"column":14},"action":"remove","lines":["\tfetch_data();"],"id":3,"ignore":true}],[{"start":{"row":4,"column":0},"end":{"row":6,"column":29},"action":"remove","lines":["","\t","\t//$('div#message').html('');"],"id":4,"ignore":true}],[{"start":{"row":3,"column":1},"end":{"row":4,"column":0},"action":"remove","lines":["",""],"id":5,"ignore":true}],[{"start":{"row":3,"column":0},"end":{"row":3,"column":1},"action":"remove","lines":["\t"],"id":6,"ignore":true}],[{"start":{"row":2,"column":29},"end":{"row":3,"column":0},"action":"remove","lines":["",""],"id":7,"ignore":true}],[{"start":{"row":21,"column":0},"end":{"row":62,"column":0},"action":"remove","lines":["","// $(\"#dynamic-table tbody\").on(\"click\",\".edit-btn\",function(){","// \tvar tds = $(this).parents(\"tr\").children();","// \t$.each(tds, function(i, val){","// \t\tvar jqob = $(val);","// \t\tif(i < 1 || jqob.has('button').length ){return true;}//跳過第1項序號，按鈕","// \t\tvar txt = jqob.text();","// \t\tvar put = $(\"<input type='text'>\");","// \t\tput.val(txt);","// \t\tjqob.html(put);","// \t});","// \t$(this).html(\"保存\");","// \t$(this).toggleClass(\"edit-btn\");","// \t$(this).toggleClass(\"save-btn\");","// });","","// $(\"#dynamic-table tbody\").on(\"click\",\".save-btn\",function(){","// \tvar row = table.row($(this).parents(\"tr\"));","// \tvar tds = $(this).parents(\"tr\").children();","// \t$.each(tds, function(i,val){","// \t\tvar jqob=$(val);","// \t\t//把input變為字符串","// \t\tif(!jqob.has('button').length){","// \t\t   var txt=jqob.children(\"input\").val();","// \t\t   jqob.html(txt);","// \t\t   table.cell(jqob).data(txt);//修改DataTables對象的數據","// \t\t}","// \t});","// \tvar data=row.data();","// \t$.ajax({","// \t\t\"url\":\"function/updateAdmin.php\",","// \t\t\"data\":data,","// \t\t\"type\":\"post\",","// \t\t\"success\":function(response){","// \t\t   fetch_data();","// \t\t}","// \t});","// \t$(this).html(\"編輯\");","// \t$(this).toggleClass(\"edit-btn\");","// \t$(this).toggleClass(\"save-btn\");","// });",""],"id":8}],[{"start":{"row":20,"column":0},"end":{"row":21,"column":0},"action":"remove","lines":["",""],"id":9}],[{"start":{"row":19,"column":0},"end":{"row":20,"column":0},"action":"remove","lines":["",""],"id":10}],[{"start":{"row":18,"column":3},"end":{"row":91,"column":0},"action":"remove","lines":["","","// edit","$(document).on('click', '.btn_edit', function(){","\tvar row = $(this).parent().parent().parent();","\tvar td = row.children('.editable');","\t$.each(td,function(value){","\t\t$(this).attr('contenteditable','true');","\t});","});","","// success","$(document).on('click', '.btn_submit', function(){","\tvar row = $(this).parent().parent().parent();","\tvar td = row.children('.editable');","\t$.each(td,function(value){","\t\t$(this).removeAttr('contenteditable');","\t});","\t","});","","// update","function update_data(id, text, column_name)  ","{  ","   $.ajax({  ","        url:\"updateAdmin.php\",  ","        method:\"POST\",  ","        data:{id:id, text:text, column_name:column_name},  ","        dataType:\"text\",  ","        success:function(data){  ","             alert(data);  ","        }  ","   });  ","}","","// delete","$(document).on('click', '.btn_delete', function(){  ","   var id=$(this).data(\"id3\");  ","   if(confirm(\"Are you sure you want to delete this?\"))  ","   {  ","        $.ajax({  ","             url:\"delete.php\",  ","             method:\"POST\",  ","             data:{id:id},  ","             dataType:\"text\",  ","             success:function(data){  ","                  alert(data);  ","                  fetch_data();  ","             }  ","        });  ","   }  ","});  ","","//add","$('input#adminEmail-submit').on('click',function() {","    var adminEmail = $('input#adminEmail').val();","    if( $.trim(adminEmail) == '' ) {","    \t","    \talert('Input not correct!');","    \t","    } else {","    \t$.ajax({","    \t\ttype: 'POST',","    \t\turl: 'function/insertAdmin.php',","    \t\tdataType: 'Text',","    \t\tdata: {email:adminEmail},","    \t\tsuccess: function(result) ","    \t\t{","    \t\t\t$('div#database-result').html(result);","    \t\t}","    \t});","    }","});",""],"id":11,"ignore":true}],[{"start":{"row":50,"column":7},"end":{"row":50,"column":10},"action":"insert","lines":["// "],"id":12}]]},"ace":{"folds":[],"scrolltop":300,"scrollleft":0,"selection":{"start":{"row":46,"column":23},"end":{"row":46,"column":23},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":881,"mode":"ace/mode/javascript"}},"timestamp":1472611119529,"hash":"7d4802493c1d778577b4390a43326d6c2bfd6f29"}